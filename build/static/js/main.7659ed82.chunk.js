(this["webpackJsonpmint-nft"]=this["webpackJsonpmint-nft"]||[]).push([[0],{438:function(e,t,n){},451:function(e,t){},453:function(e,t){},457:function(e,t){},458:function(e,t){},483:function(e,t){},485:function(e,t){},495:function(e,t){},497:function(e,t){},507:function(e,t){},509:function(e,t){},524:function(e,t){},556:function(e,t){},557:function(e,t){},625:function(e,t){},627:function(e,t){},632:function(e,t){},634:function(e,t){},641:function(e,t){},653:function(e,t){},656:function(e,t){},661:function(e,t){},737:function(e,t){},770:function(e,t){},841:function(e,t){},847:function(e,t){},860:function(e,t){},962:function(e,t,n){"use strict";n.r(t);var c=n(8),r=n(112),s=n.n(r),o=(n(438),n(1)),a=n.n(o),i=n(10),l=n(174),u=(n(413),n(429)),d=n(423),f=n.n(d),b={walletconnect:{package:u.a,options:{rpc:{56:"https://bsc-dataseed.binance.org/"},network:"mainnet",chainId:56}}},h=(new f.a({network:"mainnet",cacheProvider:!0,providerOptions:b,disableInjectedProvider:!1}),n(74)),p=n(81),g=n(56),x=(n(235),n(9).Buffer,function(){var e=Object(i.a)(a.a.mark((function e(){var t,n,c,r,s,o,i,l,u,d,f,b;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!1,!0,console.log("wallet connect"),e.next=5,window.ethereum.enable();case 5:return n=new p.providers.Web3Provider(window.ethereum),c=n.getSigner(),console.log("signer",c),e.next=10,n.getNetwork();case 10:return r=e.sent,console.log("chain",r.chainId),4!=r.chainId&&(console.log("not match"),g.b.error("Please select rinkeby network",{position:"bottom-center"})),e.next=15,h.getDefaultProvider("rinkeby");case 15:return s=e.sent,e.next=18,h.Wallet.fromEthSigner(c,s);case 18:return o=e.sent,console.log("syncWallet",o),i=o.address(),console.log("address",i),e.next=24,o.getBalance("ETH","verified");case 24:if(l=e.sent,console.log("Balance _____",l),u=l.toString(),u=parseFloat(u),u/=Math.pow(10,18),console.log("Balancein number _____",u),"0.01","0.1",!(l<"0.01")){e.next=50;break}return Object(g.b)("You do not have sufficient funds, please deposit amount to activate zksync account",{position:"bottom-center"}),e.next=36,o.depositToSyncFromEthereum({depositTo:o.address(),token:"ETH",amount:p.utils.parseEther("0.1")});case 36:return d=e.sent,e.prev=37,e.next=40,d.awaitReceipt();case 40:f=e.sent,console.log("depositReceipt",f),t=!0,console.log("verified in depositReceipt",f.block.verified),!1===f.block.verified&&(console.log("verified block error"),Object(g.b)("Verify Your balance first",{position:"bottom-center"})),e.next=50;break;case 47:e.prev=47,e.t0=e.catch(37),console.log(e.t0);case 50:return e.prev=50,e.next=53,o.setSigningKey({feeToken:"ETH",ethAuthType:"ECDSA"});case 53:return b=e.sent,e.next=56,b.awaitReceipt();case 56:e.next=61;break;case 58:e.prev=58,e.t1=e.catch(50),console.log("Error",e.t1);case 61:return Object(g.b)("Wallet connect successful",{position:"bottom-center"}),e.abrupt("return",{Balance:u,address:i,depositStatus:t});case 63:case"end":return e.stop()}}),e,null,[[37,47],[50,58]])})));return function(){return e.apply(this,arguments)}}()),j=(n(235),n(9).Buffer,function(){var e=Object(i.a)(a.a.mark((function e(t){var n,c,r,s,o,i,l,u,d,f,b,x,j;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!0,c="",console.log("wallet connect"),e.next=5,window.ethereum.enable();case 5:return r=new p.providers.Web3Provider(window.ethereum),s=r.getSigner(),console.log("signer",s),e.next=10,h.getDefaultProvider("rinkeby");case 10:return o=e.sent,e.next=13,h.Wallet.fromEthSigner(s,o);case 13:return i=e.sent,console.log("syncWallet",i),l=i.address(),console.log("address",l),e.next=19,i.getBalance("ETH","verified");case 19:if(u=e.sent,console.log("Balance _____",u),d=u.toString(),d=parseFloat(d),d/=Math.pow(10,18),console.log("Balancein number _____",d),f=(f=t).toString(),b=p.utils.parseEther("0.0001"),t=parseFloat(t),d<t&&(g.b.error("Insufficient funds",{position:"bottom-center"}),n=!1),1!=n){e.next=48;break}return e.next=33,i.syncTransfer({to:"0xf04f23EBf26c8cE4369a5ac2049D6c283f868C11",token:"ETH",amount:p.utils.parseEther(f),fee:b});case 33:return x=e.sent,e.prev=34,e.next=37,x.awaitReceipt();case 37:j=e.sent,c="0xbdac7668775fa31d618f879c68e31273a5d0a61b5107eb559d777ea368978ea4",console.log("depositReceipt",j),console.log("hash",c),n=!0,console.log("verified in depositReceipt",j.block.verified),e.next=48;break;case 45:e.prev=45,e.t0=e.catch(34),console.log(e.t0);case 48:return e.abrupt("return",{Balance:d,address:l,Status:n,hash:c});case 49:case"end":return e.stop()}}),e,null,[[34,45]])})));return function(t){return e.apply(this,arguments)}}()),m=n(172),v=Object(m.b)({name:"Auth",initialState:{value:{user:{},isAuthenticated:!1}},reducers:{login:function(e,t){e.value=t.payload},logout:function(e){e.value={user:{},isAuthenticated:!1}}}}),O=v.actions,k=O.login,w=(O.logout,v.reducer),T=n(115),E=n(242),N=n.n(E),y=n(235),S=n(9).Buffer,_=function(){var e=Object(i.a)(a.a.mark((function e(t){var n,c,r,s,o,i,l,u,d,f,b,g,x,j,m,v,O;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.ethereum.enable();case 2:return n=new p.providers.Web3Provider(window.ethereum),c=n.getSigner(),console.log("signer",c),e.next=7,h.getDefaultProvider("rinkeby");case 7:return r=e.sent,e.next=10,h.Wallet.fromEthSigner(c,r);case 10:return s=e.sent,o=s.address(),e.next=14,s.getNonce();case 14:return e.sent,e.next=17,s.getBalance("ETH","verified");case 17:return i=e.sent,console.log("Balance _____",i),e.next=21,s.getEthereumBalance("ETH");case 21:if(l=e.sent,console.log("balance",l),0!=i){e.next=37;break}return e.next=26,s.depositToSyncFromEthereum({depositTo:s.address(),token:"ETH",amount:p.utils.parseEther("0.01")});case 26:return u=e.sent,e.prev=27,e.next=30,u.awaitReceipt();case 30:d=e.sent,console.log("depositReceipt",d),e.next=37;break;case 34:e.prev=34,e.t0=e.catch(27),console.log(e.t0);case 37:return e.next=39,s.isSigningKeySet();case 39:if(e.sent){e.next=51;break}return e.next=42,s.getAccountId();case 42:if(e.t1=e.sent,e.t2=void 0,e.t1!=e.t2){e.next=46;break}throw new Error("Unknown account");case 46:return e.next=48,s.setSigningKey({feeToken:"ETH",ethAuthType:"ECDSA"});case 48:return f=e.sent,e.next=51,f.awaitReceipt();case 51:return console.log("ipfs hash",t),t=(t=t.toString()).replace("https://gateway.ipfs.io/ipfs/",""),console.log("ipfs hash",t),S.from(t,"hex"),b="0x"+y.decode(t).slice(2).toString("hex"),console.log("hash",b),g=s.mintNFT({recipient:s.address(),contentHash:b,feeToken:"ETH"}),e.next=61,g.finally();case 61:return x=e.sent,console.log("nftReceipt",x),e.t3=console,e.next=66,x;case 66:return e.t4=e.sent.txData,e.t3.log.call(e.t3,"nftdata",e.t4),e.next=70,s.getAccountState(o);case 70:return j=e.sent,console.log("state",j),console.log("commited",j.committed.nfts),console.log("verified",j.verified.nfts),m=Object.keys(j.committed.nfts),v="",m.forEach((function(e,t){v=e})),O={NftToken:v,address:o},e.abrupt("return",O);case 79:case"end":return e.stop()}}),e,null,[[27,34]])})));return function(t){return e.apply(this,arguments)}}(),B=n(19);var A=function(){var e=Object(c.useState)(0),t=Object(l.a)(e,2),n=t[0],r=t[1],s=Object(c.useState)(!1),o=Object(l.a)(s,2),u=o[0],d=o[1],f=Object(c.useState)(0),b=Object(l.a)(f,2),h=b[0],p=b[1],m=Object(T.b)(),v=Object(T.c)((function(e){return e.auth.value.isAuthenticated})),O=Object(T.c)((function(e){return e.auth.value.user})),w=function(){var e=Object(i.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x();case 2:t=e.sent,console.log("zksyncCon",t),null==t.address?g.b.error("Please switch to rinkeby network",{position:"bottom-center"}):(m(k({user:{address:t.address},isAuthenticated:!0})),console.log("login",O));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(i.a)(a.a.mark((function e(){var t,n,c,r,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!v){e.next=28;break}return t=parseFloat(h),d(!0),e.next=5,j(t);case 5:if(n=e.sent,console.log("transfer",n),1!=n.Status){e.next=25;break}return e.next=10,N.a.post("http://52.14.90.31:3001/random-NFT",{address:O.address,price:t,hash:n.hash});case 10:return c=e.sent,console.log("res",c),console.log("ipfs",c.data.ipfs_hash),console.log("contentid",c.data._id),e.next=16,_(c.data.ipfs_hash);case 16:return r=e.sent,console.log("mintNFT",r),e.next=20,N.a.post("http://52.14.90.31:3001/set-tokenId",{tokenId:r.NftToken,contentId:c.data._id});case 20:s=e.sent,console.log("setToken",s),Object(g.b)("Transaction Successful",{position:"bottom-center"}),e.next=26;break;case 25:g.b.error("Transaction Unsuccessful",{position:"bottom-center"});case 26:e.next=29;break;case 28:g.b.error("Please connect wallet",{position:"bottom-center"});case 29:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(g.a,{}),Object(B.jsxs)("div",{className:"header",children:[u&&Object(B.jsx)("div",{className:"text-center",children:Object(B.jsx)("div",{className:"spinner-border text-white"})}),Object(B.jsx)("div",{className:"logo",children:Object(B.jsx)("img",{src:"/images/logo-bull.png",alt:""})}),Object(B.jsx)("button",{onClick:function(){return w()},className:"connectWallet",children:"CONNECT WALLET"})]}),Object(B.jsxs)("div",{className:"main",children:[Object(B.jsx)("h1",{children:"MINT YOUR Bullish Freaks"}),Object(B.jsxs)("div",{className:"card",children:[Object(B.jsx)("div",{className:"cardFlex1",children:Object(B.jsx)("h2",{className:"aaa",children:"10,000 NFTs"})}),Object(B.jsxs)("div",{className:"cardFlex1",children:[Object(B.jsxs)("div",{className:"innerCont",children:[Object(B.jsx)("h2",{children:"MY ETH BALANCE"}),Object(B.jsx)("h3",{children:"0 ETH"})]}),Object(B.jsxs)("div",{className:"middle",children:[Object(B.jsx)("h2",{children:"AMOUNT"}),Object(B.jsxs)("div",{className:"ggg",children:[Object(B.jsx)("button",{onClick:function(){r(n>0?n-1:0),".345"===h&&p(".276"),".276"===h&&p(".207"),".207"===h&&p(".138"),".138"===h&&p(".069"),".069"===h&&p(0)},children:"-"}),Object(B.jsx)("span",{children:n}),Object(B.jsx)("button",{onClick:function(){r(n<5?n+1:5),0===h&&p(".069"),".069"===h&&p(".138"),2===n&&p(".207"),3===n&&p(".276"),4===n&&p(".345")},children:"+"})]}),Object(B.jsx)("button",{className:"max",onClick:function(){r(5),p(".345")},children:"Max"})]}),Object(B.jsxs)("div",{className:"innerCont",children:[Object(B.jsx)("h2",{children:"TOTAL PRICE"}),Object(B.jsxs)("h3",{children:[h," ETH"]})]}),Object(B.jsx)("div",{className:"cardFlex1 mainBTN",children:Object(B.jsx)("button",{onClick:E,children:"Mint Now"})})]})]}),Object(B.jsx)("div",{className:"darkBackground"}),Object(B.jsx)("img",{src:"/images/bg-bull.png",className:"background",alt:""})]}),Object(B.jsx)("div",{className:"footer",children:Object(B.jsx)("p",{children:"Copyright \xa9 2022 zkAPES, All Right Reserved"})})]})},C=(n(959),n(427)),F=n(430),R=n(142),H=n(428),P=n.n(H),I=n(114),W=n(44),D=Object(W.b)({auth:w}),M={key:"root",storage:P.a},L=Object(I.a)(M,D),U=Object(m.a)({reducer:L,middleware:[R.a]}),Y=Object(F.a)(U);s.a.render(Object(B.jsx)(T.a,{store:U,children:Object(B.jsx)(C.a,{loading:null,persistor:Y,children:Object(B.jsx)(A,{})})}),document.getElementById("root"))}},[[962,1,2]]]);
//# sourceMappingURL=main.7659ed82.chunk.js.map