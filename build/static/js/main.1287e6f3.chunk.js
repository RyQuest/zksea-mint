(this["webpackJsonpmint-nft"]=this["webpackJsonpmint-nft"]||[]).push([[0],{438:function(e,t,n){},451:function(e,t){},453:function(e,t){},457:function(e,t){},458:function(e,t){},483:function(e,t){},485:function(e,t){},495:function(e,t){},497:function(e,t){},507:function(e,t){},509:function(e,t){},524:function(e,t){},556:function(e,t){},557:function(e,t){},625:function(e,t){},627:function(e,t){},632:function(e,t){},634:function(e,t){},641:function(e,t){},653:function(e,t){},656:function(e,t){},661:function(e,t){},737:function(e,t){},770:function(e,t){},841:function(e,t){},847:function(e,t){},860:function(e,t){},962:function(e,t,n){"use strict";n.r(t);var c=n(8),r=n(112),s=n.n(r),o=(n(438),n(10)),a=n(174),i=n(1),l=n.n(i),u=n(413),d=n.n(u),b=n(429),f=n(423),p=n.n(f),h={walletconnect:{package:b.a,options:{rpc:{56:"https://bsc-dataseed.binance.org/"},network:"mainnet",chainId:56}}},g=new p.a({network:"mainnet",cacheProvider:!0,providerOptions:h,disableInjectedProvider:!1}),j=function(){var e=Object(o.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.connect();case 2:return t=e.sent,n=new d.a(t),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=n(74),m=n(81),v=n(36),O=(n(235),n(9).Buffer,function(){var e=Object(o.a)(l.a.mark((function e(){var t,n,c,r,s,o,a,i,u,d,b,f;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!1,!0,console.log("wallet connect"),e.next=5,j();case 5:return n=new m.providers.Web3Provider(window.ethereum),c=n.getSigner(),e.next=9,n.getNetwork();case 9:return r=e.sent,console.log("chain",r.chainId),4!=r.chainId&&(console.log("not match"),v.b.error("Please select rinkeby network",{position:"bottom-center"})),console.log("signer",c),Object(v.b)("Verifying Account",{position:"bottom-center"}),e.next=16,x.getDefaultProvider("rinkeby");case 16:return s=e.sent,e.next=19,x.Wallet.fromEthSigner(c,s);case 19:return o=e.sent,console.log("syncWallet",o),a=o.address(),console.log("address",a),e.next=25,o.getBalance("ETH","verified");case 25:if(i=e.sent,console.log("Balance _____",i),u=i.toString(),u=parseFloat(u),u/=Math.pow(10,18),console.log("Balancein number _____",u),"0.01","0.1",!(i<"0.01")){e.next=51;break}return Object(v.b)("You do not have sufficient funds, please deposit amount to activate zksync account",{position:"bottom-center"}),e.next=37,o.depositToSyncFromEthereum({depositTo:o.address(),token:"ETH",amount:m.utils.parseEther("0.1")});case 37:return d=e.sent,e.prev=38,e.next=41,d.awaitReceipt();case 41:b=e.sent,console.log("depositReceipt",b),t=!0,console.log("verified in depositReceipt",b.block.verified),!1===b.block.verified&&(console.log("verified block error"),Object(v.b)("Verify Your balance first",{position:"bottom-center"})),e.next=51;break;case 48:e.prev=48,e.t0=e.catch(38),console.log(e.t0);case 51:return Object(v.b)("Authenticating",{position:"bottom-center"}),e.prev=52,e.next=55,o.setSigningKey({feeToken:"ETH",ethAuthType:"ECDSA"});case 55:return f=e.sent,e.next=58,f.awaitReceipt();case 58:e.next=63;break;case 60:e.prev=60,e.t1=e.catch(52),console.log("Error",e.t1);case 63:return Object(v.b)("Wallet connect successful",{position:"bottom-center"}),e.abrupt("return",{Balance:u,address:a,depositStatus:t});case 65:case"end":return e.stop()}}),e,null,[[38,48],[52,60]])})));return function(){return e.apply(this,arguments)}}()),k=(n(235),n(9).Buffer,function(){var e=Object(o.a)(l.a.mark((function e(t){var n,c,r,s,o,a,i,u,d,b,f,p,h;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!0,c="",console.log("wallet connect"),e.next=5,j();case 5:return r=new m.providers.Web3Provider(window.ethereum),s=r.getSigner(),console.log("signer",s),e.next=10,x.getDefaultProvider("rinkeby");case 10:return o=e.sent,Object(v.b)("Verifying Account",{position:"bottom-center"}),e.next=14,x.Wallet.fromEthSigner(s,o);case 14:return a=e.sent,console.log("syncWallet",a),i=a.address(),console.log("address",i),e.next=20,a.getBalance("ETH","verified");case 20:if(u=e.sent,console.log("Balance _____",u),d=u.toString(),d=parseFloat(d),d/=Math.pow(10,18),console.log("Balancein number _____",d),b=(b=t).toString(),f=m.utils.parseEther("0.0001"),t=parseFloat(t),d<t&&(v.b.error("Insufficient Zksync Verified Balance",{position:"bottom-center"}),n=!1),1!=n){e.next=50;break}return Object(v.b)("Payment Processing",{position:"bottom-center"}),e.next=35,a.syncTransfer({to:"0xf04f23EBf26c8cE4369a5ac2049D6c283f868C11",token:"ETH",amount:m.utils.parseEther(b),fee:f});case 35:return p=e.sent,e.prev=36,e.next=39,p.awaitReceipt();case 39:h=e.sent,c="0xbdac7668775fa31d618f879c68e31273a5d0a61b5107eb559d777ea368978ea4",console.log("depositReceipt",h),console.log("hash",c),n=!0,console.log("verified in depositReceipt",h.block.verified),e.next=50;break;case 47:e.prev=47,e.t0=e.catch(36),console.log(e.t0);case 50:return e.abrupt("return",{Balance:d,address:i,Status:n,hash:c});case 51:case"end":return e.stop()}}),e,null,[[36,47]])})));return function(t){return e.apply(this,arguments)}}()),w=n(172),T=Object(w.b)({name:"Auth",initialState:{value:{user:{},isAuthenticated:!1}},reducers:{login:function(e,t){e.value=t.payload},logout:function(e){e.value={user:{},isAuthenticated:!1}}}}),N=T.actions,y=N.login,E=(N.logout,T.reducer),_=n(115),S=n(242),A=n.n(S),B=n(235),F=n(9).Buffer,C=function(){var e=Object(o.a)(l.a.mark((function e(t){var n,c,r,s,o,a,i,u,d,b,f,p,h,g,O,k,w;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j();case 2:return n=new m.providers.Web3Provider(window.ethereum),c=n.getSigner(),console.log("signer",c),Object(v.b)("Verifying Account",{position:"bottom-center"}),e.next=8,x.getDefaultProvider("rinkeby");case 8:return r=e.sent,e.next=11,x.Wallet.fromEthSigner(c,r);case 11:return s=e.sent,o=s.address(),e.next=15,s.getNonce();case 15:return e.sent,e.next=18,s.getBalance("ETH","verified");case 18:return a=e.sent,console.log("Balance _____",a),e.next=22,s.getEthereumBalance("ETH");case 22:if(i=e.sent,console.log("balance",i),0!=a){e.next=38;break}return e.next=27,s.depositToSyncFromEthereum({depositTo:s.address(),token:"ETH",amount:m.utils.parseEther("0.01")});case 27:return u=e.sent,e.prev=28,e.next=31,u.awaitReceipt();case 31:d=e.sent,console.log("depositReceipt",d),e.next=38;break;case 35:e.prev=35,e.t0=e.catch(28),console.log(e.t0);case 38:return e.next=40,s.isSigningKeySet();case 40:if(e.sent){e.next=52;break}return e.next=43,s.getAccountId();case 43:if(e.t1=e.sent,e.t2=void 0,e.t1!=e.t2){e.next=47;break}throw new Error("Unknown account");case 47:return e.next=49,s.setSigningKey({feeToken:"ETH",ethAuthType:"ECDSA"});case 49:return b=e.sent,e.next=52,b.awaitReceipt();case 52:return console.log("ipfs hash",t),t=(t=t.toString()).replace("https://gateway.ipfs.io/ipfs/",""),console.log("ipfs hash",t),F.from(t,"hex"),f="0x"+B.decode(t).slice(2).toString("hex"),console.log("hash",f),Object(v.b)("Minting NFT",{position:"bottom-center"}),p=s.mintNFT({recipient:s.address(),contentHash:f,feeToken:"ETH"}),e.next=63,p.finally();case 63:return h=e.sent,console.log("nftReceipt",h),e.t3=console,e.next=68,h;case 68:return e.t4=e.sent.txData,e.t3.log.call(e.t3,"nftdata",e.t4),e.next=72,s.getAccountState(o);case 72:return g=e.sent,console.log("state",g),console.log("commited",g.committed.nfts),console.log("verified",g.verified.nfts),O=Object.keys(g.committed.nfts),k="",O.forEach((function(e,t){k=e})),w={NftToken:k,address:o},e.abrupt("return",w);case 81:case"end":return e.stop()}}),e,null,[[28,35]])})));return function(t){return e.apply(this,arguments)}}(),P=n(17);var R=function(){var e=Object(c.useState)(0),t=Object(a.a)(e,2),n=t[0],r=t[1],s=Object(c.useState)(!1),i=Object(a.a)(s,2),u=i[0],d=i[1],b=Object(c.useState)(0),f=Object(a.a)(b,2),p=f[0],h=f[1],g=Object(_.b)(),j=Object(_.c)((function(e){return e.auth.value.isAuthenticated})),x=Object(_.c)((function(e){return e.auth.value.user})),m=function(){var e=Object(o.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O();case 2:t=e.sent,console.log("zksyncCon",t),null==t.address?v.b.error("Please switch to rinkeby network",{position:"bottom-center"}):(g(y({user:{address:t.address},isAuthenticated:!0})),console.log("login",x));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(o.a)(l.a.mark((function e(){var t,n,c,r,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!j){e.next=33;break}if(0!=(t=parseFloat(p))){e.next=6;break}v.b.error("Amount cannot be zero",{position:"bottom-center"}),e.next=31;break;case 6:return d(!0),e.next=9,k(t);case 9:if(n=e.sent,console.log("transfer",n),1!=n.Status){e.next=30;break}return e.next=14,A.a.post("http://52.14.90.31:3001/random-NFT",{address:x.address,price:t,hash:n.hash});case 14:return c=e.sent,console.log("res",c),console.log("ipfs",c.data.ipfs_hash),console.log("contentid",c.data._id),e.next=20,C(c.data.ipfs_hash);case 20:return r=e.sent,console.log("mintNFT",r),e.next=24,A.a.post("http://52.14.90.31:3001/set-tokenId",{tokenId:r.NftToken,contentId:c.data._id});case 24:s=e.sent,console.log("setToken",s),Object(v.b)("Transaction Successful",{position:"bottom-center"}),d(!1),e.next=31;break;case 30:v.b.error("Transaction Unsuccessful",{position:"bottom-center"});case 31:e.next=34;break;case 33:v.b.error("Please connect wallet",{position:"bottom-center"});case 34:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(v.a,{}),Object(P.jsxs)("div",{className:"header",children:[u&&Object(P.jsx)("div",{className:"text-center",children:Object(P.jsx)("div",{className:"spinner-border text-white"})}),Object(P.jsx)("div",{className:"logo",children:Object(P.jsx)("img",{src:"/images/logo-bull.png",alt:""})}),j?Object(P.jsx)("span",{className:"wallet-address",children:Object(P.jsx)("p",{className:"swl",children:(null===x||void 0===x?void 0:x.address.substring(0,5))+"....."+(null===x||void 0===x?void 0:x.address.substring(38,42))})}):Object(P.jsx)("button",{onClick:function(){return m()},className:"connectWallet",children:"CONNECT WALLET"})]}),Object(P.jsxs)("div",{className:"main",children:[Object(P.jsx)("h1",{children:"MINT YOUR Bullish Freaks"}),Object(P.jsxs)("div",{className:"card",children:[Object(P.jsx)("div",{className:"cardFlex1",children:Object(P.jsx)("h2",{className:"aaa",children:"10,000 NFTs"})}),Object(P.jsxs)("div",{className:"cardFlex1",children:[Object(P.jsxs)("div",{className:"innerCont",children:[Object(P.jsx)("h2",{children:"MY ETH BALANCE"}),Object(P.jsx)("h3",{children:"0 ETH"})]}),Object(P.jsxs)("div",{className:"middle",children:[Object(P.jsx)("h2",{children:"AMOUNT"}),Object(P.jsxs)("div",{className:"ggg",children:[Object(P.jsx)("button",{onClick:function(){r(n>0?n-1:0),".345"===p&&h(".276"),".276"===p&&h(".207"),".207"===p&&h(".138"),".138"===p&&h(".069"),".069"===p&&h(0),".69"===p&&h(".621"),".621"===p&&h(".552"),".552"===p&&h(".483"),".483"===p&&h(".414"),".414"===p&&h(".345")},children:"-"}),Object(P.jsx)("span",{children:n}),Object(P.jsx)("button",{onClick:function(){r(n<10?n+1:10),0===p&&h(".069"),".069"===p&&h(".138"),2===n&&h(".207"),3===n&&h(".276"),4===n&&h(".345"),5===n&&h(".414"),6===n&&h(".483"),7===n&&h(".552"),8===n&&h(".621"),9===n&&h(".69")},children:"+"})]}),Object(P.jsx)("button",{className:"max",onClick:function(){r(10),h(".69")},children:"Max"})]}),Object(P.jsxs)("div",{className:"innerCont",children:[Object(P.jsx)("h2",{children:"TOTAL PRICE"}),Object(P.jsxs)("h3",{children:[p," ETH"]})]}),Object(P.jsx)("div",{className:"cardFlex1 mainBTN",children:u?Object(P.jsx)("button",{children:"Processing"}):Object(P.jsx)("button",{onClick:w,children:"Mint Now"})})]})]}),Object(P.jsx)("div",{className:"darkBackground"}),Object(P.jsx)("img",{src:"/images/bg-bull.png",className:"background",alt:""})]}),Object(P.jsx)("div",{className:"footer",children:Object(P.jsx)("p",{children:"Copyright \xa9 2022 Bullish Freaks, All Right Reserved"})})]})},H=(n(959),n(427)),I=n(430),W=n(142),M=n(428),D=n.n(M),V=n(114),L=n(45),U=Object(L.b)({auth:E}),Y={key:"root",storage:D.a},z=Object(V.a)(Y,U),K=Object(w.a)({reducer:z,middleware:[W.a]}),J=Object(I.a)(K);s.a.render(Object(P.jsx)(_.a,{store:K,children:Object(P.jsx)(H.a,{loading:null,persistor:J,children:Object(P.jsx)(R,{})})}),document.getElementById("root"))}},[[962,1,2]]]);
//# sourceMappingURL=main.1287e6f3.chunk.js.map