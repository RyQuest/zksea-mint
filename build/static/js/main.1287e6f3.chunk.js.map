{"version":3,"sources":["helpers/Web3Helper.js","helpers/zksyncConnect.js","helpers/Transfer.js","reducers/authReducer.js","helpers/Mint.js","App.js","store/store.js","index.js"],"names":["providerOptions","walletconnect","package","WalletConnectProvider","options","rpc","network","chainId","web3Modal","Web3Modal","cacheProvider","disableInjectedProvider","web3","a","connect","provider","Web3","zkSyncconnect","require","Buffer","depositStatus","console","log","ethers","Web3Provider","window","ethereum","signer","getSigner","getNetwork","chain","toast","error","position","zksync","syncProvider","fromEthSigner","syncWallet","address","getBalance","verifiedETHBalance","Balance","toString","parseFloat","depositToSyncFromEthereum","depositTo","token","amount","parseEther","deposit","awaitReceipt","depositReceipt","block","verified","setSigningKey","feeToken","ethAuthType","changePubkey","zkTransfer","price","Status","hash","finaliPrice","fee","syncTransfer","to","authSlice","createSlice","name","initialState","value","user","isAuthenticated","reducers","login","state","action","payload","logout","actions","bs58","Mint","getNonce","getEthereumBalance","balance","isSigningKeySet","getAccountId","undefined","Error","replace","from","contentHash","decode","slice","mint","mintNFT","recipient","finally","nftReceipt","txData","getAccountState","committed","nfts","nftData","Object","keys","NftToken","forEach","index","mintObj","App","useState","counter","setcounter","loading","setloading","ethPrice","setethPrice","dispatch","useDispatch","useSelector","auth","loginUser","handleLogin","zksyncCon","handleBuy","transfer","axios","post","res","data","ipfs_hash","_id","tokenId","contentId","setToken","className","src","alt","substring","onClick","combineReducers","authReducer","persistConfig","key","storage","persistReducers","persistReducer","store","configureStore","reducer","middleware","thunk","persistor","persistStore","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.1287e6f3.chunk.js","sourcesContent":["import Web3 from \"web3\";\r\nimport WalletConnectProvider from \"@walletconnect/web3-provider\";\r\nimport Web3Modal from \"web3modal\";\r\n\r\nconst providerOptions = {\r\n    // / See Provider Options Section /\r\n\r\n    walletconnect: {\r\n        package: WalletConnectProvider,\r\n        options: {\r\n            rpc: {\r\n                56: \"https://bsc-dataseed.binance.org/\",\r\n            },\r\n            network: \"mainnet\",\r\n            chainId: 56,\r\n            // infuraId: \"bnb1a5cae5d9hp0we9cx9v02n9hvmt94nnuguv0fav\",\r\n        },\r\n    },\r\n};\r\n\r\nconst web3Modal = new Web3Modal({\r\n    network: \"mainnet\", // optional\r\n    cacheProvider: true, // optional\r\n    providerOptions, // required\r\n    disableInjectedProvider: false,\r\n});\r\n\r\n\r\n\r\nexport const web3 = async () => {\r\n    const provider = await web3Modal.connect();\r\n    const web3 = new Web3(provider);\r\n\r\n    return web3;\r\n};\r\n\r\n\r\nexport const Provider=async()=>{\r\n    const provider = await web3Modal.connect();\r\n\r\n    return provider;\r\n}\r\n","import * as zksync from \"zksync\";\r\nimport * as ethers from \"ethers\";\r\nimport { web3 } from \"./Web3Helper\"\r\n\r\nimport { toast } from \"react-toastify\";\r\nconst bs58 = require(\"bs58\");\r\nvar Buffer = require(\"buffer/\").Buffer;\r\n\r\nexport const zkSyncconnect = async () => {\r\n  let depositStatus = false\r\n  let chaindIdStatus = true\r\n  console.log(\"wallet connect\");\r\n  await web3()\r\n\r\n  const provider = new ethers.providers.Web3Provider(window.ethereum);\r\n\r\n  const signer = provider.getSigner();\r\n\r\n  const chain = await provider.getNetwork()\r\n  console.log(\"chain\", chain.chainId);\r\n\r\n  if(chain.chainId != 4){\r\n    console.log(\"not match\");\r\n    toast.error(\"Please select rinkeby network\", {\r\n      position: \"bottom-center\",\r\n  });\r\n  }\r\n  \r\n  console.log(\"signer\", signer);\r\n\r\n  toast(\"Verifying Account\", {\r\n    position: \"bottom-center\",\r\n  });\r\n\r\n  \r\n\r\n  const syncProvider = await zksync.getDefaultProvider(\"rinkeby\");\r\n\r\n  const syncWallet = await zksync.Wallet.fromEthSigner(signer, syncProvider);\r\n\r\n  console.log(\"syncWallet\", syncWallet);\r\n\r\n  let address = syncWallet.address();\r\n\r\n  console.log(\"address\", address);\r\n\r\n  const verifiedETHBalance = await syncWallet.getBalance(\"ETH\", \"verified\");\r\n\r\n  console.log(\"Balance _____\", verifiedETHBalance);\r\n  let Balance = verifiedETHBalance.toString();\r\n  Balance = parseFloat(Balance);\r\n  Balance = Balance / 10 ** 18;\r\n  console.log(\"Balancein number _____\", Balance);\r\n\r\n  // console.log(\"price\", price);\r\n  // if (price == \"\" || price == null || price == undefined) {\r\n  //   price = \"0.001\";\r\n  // }\r\n\r\n  // let finaliPrice = price.toString();\r\n  // console.log(typeof finaliPrice);\r\n\r\n  let TempBalCheck = \"0.01\"\r\n  let finaliPrice= \"0.1\"\r\n  // finaliPrice = parseFloat(finaliPrice)\r\n\r\n  if (verifiedETHBalance < TempBalCheck) {\r\n    toast(\"You do not have sufficient funds, please deposit amount to activate zksync account\", {\r\n      position: \"bottom-center\",\r\n    });\r\n    const deposit = await syncWallet.depositToSyncFromEthereum({\r\n      depositTo: syncWallet.address(),\r\n      token: \"ETH\",\r\n      amount: ethers.utils.parseEther(finaliPrice),\r\n    });\r\n    try {\r\n      const depositReceipt = await deposit.awaitReceipt();\r\n\r\n      console.log(\"depositReceipt\", depositReceipt);\r\n      depositStatus = true\r\n\r\n      console.log(\"verified in depositReceipt\", depositReceipt.block.verified);\r\n      if (depositReceipt.block.verified === false) {\r\n        console.log(\"verified block error\");\r\n        toast(\"Verify Your balance first\", {\r\n          position: \"bottom-center\",\r\n        });\r\n        \r\n      }\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  }\r\n\r\n  toast(\"Authenticating\", {\r\n    position: \"bottom-center\",\r\n  });\r\n  \r\n  try {\r\n    const changePubkey = await syncWallet.setSigningKey({\r\n        feeToken: \"ETH\",\r\n        ethAuthType: \"ECDSA\",\r\n        });\r\n\r\n        // Wait until the tx is committed\r\n        await changePubkey.awaitReceipt();\r\n } catch (error) {\r\n     console.log(\"Error\", error);\r\n }\r\n\r\n  \r\n  toast(\"Wallet connect successful\", {\r\n    position: \"bottom-center\",\r\n  });\r\n  return {\r\n    Balance,\r\n    address,\r\n    depositStatus\r\n  };\r\n};\r\n","import * as zksync from \"zksync\";\r\nimport * as ethers from \"ethers\";\r\nimport { toast } from \"react-toastify\";\r\nimport { web3 } from \"./Web3Helper\"\r\n\r\nconst bs58 = require(\"bs58\");\r\nvar Buffer = require(\"buffer/\").Buffer;\r\n\r\nexport const zkTransfer = async (price) => {\r\n    let Status = true\r\n    let hash = \"\"\r\n    console.log(\"wallet connect\");\r\n    await web3()\r\n  \r\n    const provider = new ethers.providers.Web3Provider(window.ethereum);\r\n  \r\n    const signer = provider.getSigner();\r\n  \r\n    console.log(\"signer\", signer);\r\n  \r\n    const syncProvider = await zksync.getDefaultProvider(\"rinkeby\");\r\n\r\n    toast(\"Verifying Account\", {\r\n      position: \"bottom-center\",\r\n    });\r\n  \r\n    const syncWallet = await zksync.Wallet.fromEthSigner(signer, syncProvider);\r\n  \r\n    console.log(\"syncWallet\", syncWallet);\r\n  \r\n    let address = syncWallet.address();\r\n  \r\n    console.log(\"address\", address);\r\n  \r\n    const verifiedETHBalance = await syncWallet.getBalance(\"ETH\", \"verified\");\r\n  \r\n    console.log(\"Balance _____\", verifiedETHBalance);\r\n    let Balance = verifiedETHBalance.toString();\r\n    Balance = parseFloat(Balance);\r\n    Balance = Balance / 10 ** 18;\r\n    console.log(\"Balancein number _____\", Balance);\r\n\r\n  \r\n    let finaliPrice= price\r\n    finaliPrice = finaliPrice.toString()\r\n    const fee = ethers.utils.parseEther(\"0.0001\");\r\n\r\n    price = parseFloat(price)\r\n\r\n    if(Balance < price){\r\n        toast.error(\"Insufficient Zksync Verified Balance\", {\r\n            position: \"bottom-center\",\r\n        });\r\n         Status = false\r\n    }\r\n    // if (verifiedETHBalance < finaliPrice) {\r\n\r\n      if(Status == true){\r\n\r\n        toast(\"Payment Processing\", {\r\n          position: \"bottom-center\",\r\n        });\r\n\r\n        const deposit = await syncWallet.syncTransfer({\r\n            to: \"0xf04f23EBf26c8cE4369a5ac2049D6c283f868C11\",\r\n            token: \"ETH\",\r\n            amount: ethers.utils.parseEther(finaliPrice),\r\n            fee : fee\r\n          });\r\n          \r\n          try {\r\n            const depositReceipt = await deposit.awaitReceipt();\r\n            hash  =\"0xbdac7668775fa31d618f879c68e31273a5d0a61b5107eb559d777ea368978ea4\"\r\n            console.log(\"depositReceipt\", depositReceipt);\r\n            console.log(\"hash\", hash);\r\n            Status = true\r\n      \r\n            console.log(\"verified in depositReceipt\", depositReceipt.block.verified);\r\n        } catch (e) {\r\n            console.log(e);\r\n          }   \r\n      }\r\n        \r\n\r\n\r\n    return {\r\n      Balance,\r\n      address,\r\n      Status,\r\n      hash\r\n    };\r\n};\r\n\r\n\r\n// export async function zkTransfer(){\r\n\r\n//     await window.ethereum.enable()\r\n//     const provider = new ethers.providers.Web3Provider(window.ethereum);\r\n//     const signer = provider.getSigner();\r\n//     console.log(\"signer\",signer);\r\n//     const syncProvider = await zksync.getDefaultProvider(\"rinkeby\");\r\n//     const syncWallet = await zksync.Wallet.fromEthSigner(signer, syncProvider);\r\n//     console.log(\"syncWallet\",syncWallet);\r\n    \r\n//     const address = syncWallet.address();\r\n    \r\n//     console.log(\"address\",address);\r\n    \r\n//     const verifiedETHBalance = await syncWallet.getBalance(\"ETH\", \"verified\");\r\n    \r\n//     console.log(\"Balance _____\", verifiedETHBalance)\r\n//     const balance = await syncWallet.getEthereumBalance('ETH')\r\n//     console.log(\"balance\",balance);\r\n\r\n//     let temp = await syncWallet.isSigningKeySet()\r\n//     console.log(\"await syncWallet.isSigningKeySet()\", temp);\r\n\r\n//      try {\r\n//         const changePubkey = await syncWallet.setSigningKey({\r\n//             feeToken: \"ETH\",\r\n//             ethAuthType: \"ECDSA\",\r\n//             });\r\n    \r\n//             // Wait until the tx is committed\r\n//             await changePubkey.awaitReceipt();\r\n//      } catch (error) {\r\n//          console.log(\"Error\", error);\r\n//      }\r\n\r\n//     if (!(await syncWallet.isSigningKeySet())) {\r\n//         if ((await syncWallet.getAccountId()) == undefined) {\r\n//         throw new Error(\"Unknown account\");\r\n//         }\r\n\r\n//         console.log(\"isSigningKeySet\");\r\n\r\n//         // As any other kind of transaction, `ChangePubKey` transaction requires fee.\r\n//         // User doesn't have (but can) to specify the fee amount. If omitted, library will query zkSync node for\r\n//         // the lowest possible amount.\r\n//         const changePubkey = await syncWallet.setSigningKey({\r\n//         feeToken: \"ETH\",\r\n//         ethAuthType: \"ECDSA\",\r\n//         });\r\n\r\n//         // Wait until the tx is committed\r\n//         await changePubkey.awaitReceipt();\r\n//     }\r\n\r\n//     const fee = ethers.utils.parseEther(\"0.001\");\r\n  \r\n//     const transfer =  syncWallet.syncTransfer({\r\n//       to: \"0xf04f23EBf26c8cE4369a5ac2049D6c283f868C11\",\r\n//       token: \"ETH\",\r\n//       amount: ethers.utils.parseEther(\"0.1\"),\r\n//       fee\r\n//     });\r\n//     const transferReceipt =  transfer.finally();\r\n    \r\n//     console.log(\"transferReceipt\",transferReceipt);\r\n    \r\n//     // Get state of account\r\n//     const state = await syncWallet.getAccountState(address);\r\n//     // View committed NFTs\r\n//     console.log(\"commited\",state.committed.balances);\r\n//     // View verified NFTs\r\n//     console.log(\"verified\",state.verified.balances);\r\n//     }","import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nconst authSlice = createSlice({\r\n    name: \"Auth\",\r\n    initialState: { value: { user: {}, isAuthenticated: false } },\r\n    reducers: {\r\n        login: (state, action) => {\r\n            state.value = action.payload;\r\n        },\r\n        logout: (state) => {\r\n            state.value = { user: {}, isAuthenticated: false };\r\n        },\r\n    },\r\n});\r\n\r\nexport const { login, logout } = authSlice.actions;\r\nexport default authSlice.reducer;\r\n","import * as zksync from \"zksync\";\r\nimport * as ethers from \"ethers\";\r\nimport { toast } from \"react-toastify\";\r\nimport { web3 } from \"./Web3Helper\"\r\n\r\nconst bs58 = require('bs58')\r\nvar Buffer = require('buffer/').Buffer;\r\n\r\n\r\nexport const Mint= async(hash)=>{\r\n\r\n    await web3()\r\n\r\n    const provider = new ethers.providers.Web3Provider(window.ethereum);\r\n\r\n    const signer = provider.getSigner();\r\n\r\n    console.log(\"signer\",signer);\r\n\r\n    toast(\"Verifying Account\", {\r\n      position: \"bottom-center\",\r\n    });\r\n\r\n    const syncProvider = await zksync.getDefaultProvider(\"rinkeby\");\r\n    \r\n    const syncWallet = await zksync.Wallet.fromEthSigner(signer, syncProvider);\r\n\r\n    // console.log(\"syncWallet\",syncWallet);\r\n    \r\n    const address = syncWallet.address();\r\n    \r\n    // console.log(\"address\",address);\r\n\r\n    const nonce = await syncWallet.getNonce()\r\n    //  console.log(\"address\",address);\r\n    \r\n    const verifiedETHBalance = await syncWallet.getBalance(\"ETH\", \"verified\");\r\n    \r\n    console.log(\"Balance _____\", verifiedETHBalance)\r\n\r\n    const balance = await syncWallet.getEthereumBalance('ETH')\r\n\r\n    console.log(\"balance\",balance);\r\n    \r\n    if(verifiedETHBalance==0)\r\n    {\r\n                \r\n      const deposit = await syncWallet.depositToSyncFromEthereum({\r\n        depositTo: syncWallet.address(),\r\n        token: \"ETH\",\r\n        amount: ethers.utils.parseEther(\"0.01\"),\r\n      });\r\n      \r\n      try{\r\n           \r\n        const depositReceipt = await deposit.awaitReceipt();\r\n\r\n        console.log(\"depositReceipt\",depositReceipt);\r\n\r\n       }catch(e){console.log(e)}\r\n     \r\n\r\n    }\r\n    \r\n    if (!(await syncWallet.isSigningKeySet())) {\r\n      if ((await syncWallet.getAccountId()) == undefined) {\r\n        throw new Error(\"Unknown account\");\r\n      }\r\n    \r\n      // As any other kind of transaction, `ChangePubKey` transaction requires fee.\r\n      // User doesn't have (but can) to specify the fee amount. If omitted, library will query zkSync node for\r\n      // the lowest possible amount.\r\n      const changePubkey = await syncWallet.setSigningKey({\r\n        feeToken: \"ETH\",\r\n        ethAuthType: \"ECDSA\",\r\n      });\r\n    \r\n      // Wait until the tx is committed\r\n      await changePubkey.awaitReceipt();\r\n    }\r\n\r\n\r\n       // start\r\n      //  const firstimeactivation = await syncWallet.setSigningKey({\r\n      //   feeToken : \"ETH\",\r\n      //   // fee: ethers.utils.parseEther(\"0.0001\"),\r\n      //   ethAuthType : \"ECDSA\"\r\n      // });\r\n      // const firstimeactivationReceipt =  (await firstimeactivation).awaitReceipt;\r\n\r\n      // console.log(\"firstimeactivationReceipt\",firstimeactivationReceipt);\r\n\r\n\r\n\r\n\r\n    // const fee = ethers.utils.parseEther(\"0.001\");\r\n    console.log('ipfs hash',hash)\r\n    hash=hash.toString();\r\n    hash = hash.replace(\r\n      \"https://gateway.ipfs.io/ipfs/\",\r\n      \"\"\r\n    );\r\n    console.log('ipfs hash',hash)\r\n\r\n    const bytes = Buffer.from(hash, 'hex')\r\n    // let contentHash  = bs58.encode(bytes)\r\n    //ethers.utils.formatBytes32String(hash) //\"0xbd7289936758c562235a3a42ba2c4a56cbb23a263bb8f8d27aead80d74d9d996\";\r\n    let contentHash  = \"0x\"+bs58.decode(hash).slice(2).toString('hex')\r\n    console.log('hash',contentHash)\r\n\r\n    toast(\"Minting NFT\", {\r\n      position: \"bottom-center\",\r\n    });\r\n\r\n    const mint =  syncWallet.mintNFT({\r\n      recipient: syncWallet.address(),\r\n      contentHash,\r\n      feeToken: \"ETH\"\r\n    });\r\n\r\n    const nftReceipt = await mint.finally();\r\n    \r\n    console.log(\"nftReceipt\",nftReceipt);\r\n\r\n    console.log(\"nftdata\",(await nftReceipt).txData);\r\n    \r\n    \r\n    // Get state of account\r\n    const state = await syncWallet.getAccountState(address);\r\n    console.log(\"state\",state);\r\n\r\n    // View committed NFTs\r\n    console.log(\"commited\",state.committed.nfts);\r\n    // View verified NFTs\r\n    console.log(\"verified\",state.verified.nfts);\r\n    let nftData=Object.keys(state.committed.nfts);\r\n    let NftToken=\"\";\r\n    nftData.forEach((token,index)=>{\r\n      NftToken=token;\r\n    })\r\n\r\n    let mintObj={NftToken:NftToken,\r\n                 address:address\r\n                 }  \r\n                 \r\n    return mintObj;\r\n  }","import { useState, useEffect } from \"react\";\r\nimport Connect from \"./helpers/Connect\";\r\nimport { zkSyncconnect } from \"./helpers/zksyncConnect\";\r\nimport { zkTransfer } from \"./helpers/Transfer\";\r\nimport { login } from \"./reducers/authReducer\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Transaction } from \"./helpers/Transaction\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport axios from \"axios\";\r\nimport { Mint } from \"./helpers/Mint\";\r\n\r\nconst url = \"http://52.14.90.31:3001/random-NFT\";\r\nfunction App() {\r\n  const [counter, setcounter] = useState(0);\r\n\r\n  const [loading, setloading] = useState(false);\r\n\r\n  const [ethPrice, setethPrice] = useState(0);\r\n  const dispatch = useDispatch();\r\n\r\n  const isAuthenticated = useSelector(\r\n    (state) => state.auth.value.isAuthenticated\r\n  );\r\n\r\n  const loginUser = useSelector((state) => state.auth.value.user);\r\n\r\n  function inc() {\r\n    if (counter < 10) {\r\n      setcounter(counter + 1);\r\n    } else {\r\n      setcounter(10);\r\n    }\r\n\r\n    if (ethPrice === 0) {\r\n      setethPrice(\".069\");\r\n    }\r\n\r\n    if (ethPrice === \".069\") {\r\n      setethPrice(\".138\");\r\n    }\r\n\r\n    if (counter === 2) {\r\n      setethPrice(\".207\");\r\n    }\r\n\r\n    if (counter === 3) {\r\n      setethPrice(\".276\");\r\n    }\r\n\r\n    if (counter === 4) {\r\n      setethPrice(\".345\");\r\n    }\r\n\r\n    if (counter === 5) {\r\n      setethPrice(\".414\");\r\n    }\r\n\r\n    if (counter === 6) {\r\n      setethPrice(\".483\");\r\n    }\r\n    if (counter === 7) {\r\n      setethPrice(\".552\");\r\n    }\r\n    if (counter === 8) {\r\n      setethPrice(\".621\");\r\n    }\r\n    if (counter === 9) {\r\n      setethPrice(\".69\");\r\n    }\r\n  }\r\n\r\n  function decr() {\r\n    if (counter > 0) {\r\n      setcounter(counter - 1);\r\n    } else {\r\n      setcounter(0);\r\n    }\r\n\r\n    if (ethPrice === \".345\") {\r\n      setethPrice(\".276\");\r\n    }\r\n\r\n    if (ethPrice === \".276\") {\r\n      setethPrice(\".207\");\r\n    }\r\n\r\n    if (ethPrice === \".207\") {\r\n      setethPrice(\".138\");\r\n    }\r\n\r\n    if (ethPrice === \".138\") {\r\n      setethPrice(\".069\");\r\n    }\r\n\r\n    if (ethPrice === \".069\") {\r\n      setethPrice(0);\r\n    }\r\n\r\n    if (ethPrice === \".69\") {\r\n      setethPrice(\".621\");\r\n     }\r\n\r\n     if (ethPrice === \".621\") {\r\n      setethPrice(\".552\");\r\n     }\r\n\r\n     if (ethPrice === \".552\") {\r\n      setethPrice(\".483\");\r\n     }\r\n\r\n     if (ethPrice === \".483\") {\r\n      setethPrice(\".414\");\r\n     }\r\n\r\n     if (ethPrice === \".414\") {\r\n      setethPrice(\".345\");\r\n     }\r\n  }\r\n\r\n  function max() {\r\n    setcounter(10);\r\n    setethPrice(\".69\");\r\n  }\r\n\r\n  const handleLogin = async () => {\r\n\r\n    let zksyncCon = await zkSyncconnect()\r\n    console.log(\"zksyncCon\", zksyncCon);\r\n\r\n    // let address = await Connect();\r\n    // console.log(\"address\", address);\r\n\r\n    if (zksyncCon.address == null) {\r\n      toast.error(\"Please switch to rinkeby network\", {\r\n        position: \"bottom-center\",\r\n      });\r\n    } else {\r\n      dispatch(\r\n        login({\r\n          user: {\r\n            // balance: log.Balance,\r\n            address: zksyncCon.address,\r\n          },\r\n          isAuthenticated: true,\r\n        })\r\n      );\r\n\r\n      console.log(\"login\", loginUser);\r\n    }\r\n  };\r\n\r\n  const handleBuy = async () => {\r\n    if (isAuthenticated) {\r\n      let price = parseFloat(ethPrice);\r\n      if(price == 0){\r\n        toast.error(\"Amount cannot be zero\", {\r\n          position: \"bottom-center\",\r\n        });\r\n      }\r\n      else{\r\n        setloading(true);\r\n        let transfer = await zkTransfer(price)\r\n        console.log(\"transfer\", transfer);\r\n  \r\n          if(transfer.Status == true){\r\n  \r\n            // successfull transfer now mint\r\n            let res = await axios.post(url, {\r\n                address: loginUser.address,\r\n                price: price,\r\n                hash: transfer.hash,\r\n            });\r\n            console.log(\"res\", res);\r\n  \r\n            console.log(\"ipfs\", res.data.ipfs_hash);\r\n            console.log(\"contentid\", res.data._id);\r\n  \r\n  \r\n            let mintNFT = await Mint(res.data.ipfs_hash)\r\n            console.log(\"mintNFT\", mintNFT);\r\n  \r\n            let setToken = await axios.post(\"http://52.14.90.31:3001/set-tokenId\", {\r\n              tokenId: mintNFT.NftToken,\r\n              contentId: res.data._id,\r\n            });\r\n            console.log(\"setToken\", setToken);\r\n  \r\n            toast(\"Transaction Successful\", {\r\n              position: \"bottom-center\",\r\n            });\r\n            setloading(false);\r\n           \r\n          }else{\r\n            toast.error(\"Transaction Unsuccessful\", {\r\n              position: \"bottom-center\",\r\n            });\r\n          }\r\n      }\r\n    }\r\n     else {\r\n      toast.error(\"Please connect wallet\", {\r\n            position: \"bottom-center\",\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <ToastContainer />\r\n     \r\n      <div className=\"header\">\r\n\r\n        {loading && (\r\n          <div className=\"text-center\">\r\n            <div className=\"spinner-border text-white\"></div>\r\n          </div>\r\n        )}\r\n        {/* <div className=\"logo\"><img src=\"/images/LOGO-main.png\" alt=\"\" /></div> */}\r\n        <div className=\"logo\">\r\n          <img src=\"/images/logo-bull.png\" alt=\"\" />\r\n        </div>\r\n         {isAuthenticated?<span className=\"wallet-address\"><p className=\"swl\">{loginUser?.address.substring(0, 5)+\".....\"+loginUser?.address.substring(38, 42)}</p></span>:\r\n           <button onClick={() => handleLogin()} className=\"connectWallet\">\r\n           CONNECT WALLET\r\n         </button>}\r\n        \r\n      </div>\r\n      <div className=\"main\">\r\n        {/* <h1>MINT YOUR zkAPES</h1> */}\r\n        <h1>MINT YOUR Bullish Freaks</h1>\r\n\r\n\r\n        <div className=\"card\">\r\n          <div className=\"cardFlex1\">\r\n            <h2 className=\"aaa\">10,000 NFTs</h2>\r\n          </div>\r\n\r\n          <div className=\"cardFlex1\">\r\n            <div className=\"innerCont\">\r\n              <h2>MY ETH BALANCE</h2>\r\n              <h3>0 ETH</h3>\r\n            </div>\r\n\r\n            <div className=\"middle\">\r\n              <h2>AMOUNT</h2>\r\n              <div className=\"ggg\">\r\n                <button onClick={decr}>-</button>\r\n                <span>{counter}</span>\r\n                <button onClick={inc}>+</button>\r\n              </div>\r\n              <button className=\"max\" onClick={max}>\r\n                Max\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"innerCont\">\r\n              <h2>TOTAL PRICE</h2>\r\n              <h3>{ethPrice} ETH</h3>\r\n            </div>\r\n\r\n            <div className=\"cardFlex1 mainBTN\">\r\n            {loading?<button>Processing</button>: <button onClick={handleBuy}>Mint Now</button>}\r\n              {/* <button onClick={handleBuy}>Mint Now</button> */}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"darkBackground\"></div>\r\n        {/* <img src=\"/images/mainBG.jpeg\" className=\"background\" alt=\"\" /> */}\r\n        <img src=\"/images/bg-bull.png\" className=\"background\" alt=\"\" />\r\n      </div>\r\n\r\n      <div className=\"footer\">\r\n        <p>Copyright © 2022 Bullish Freaks, All Right Reserved</p>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { configureStore } from \"@reduxjs/toolkit\";\r\nimport authReducer from \"../reducers/authReducer\";\r\nimport thunk from \"redux-thunk\";\r\nimport storage from \"redux-persist/lib/storage\";\r\nimport persistReducer from \"redux-persist/es/persistReducer\";\r\nimport { combineReducers } from \"redux\";\r\n\r\nconst reducers = combineReducers({\r\n    auth: authReducer,\r\n});\r\nconst persistConfig = {\r\n    key: \"root\",\r\n    storage,\r\n};\r\n\r\nconst persistReducers = persistReducer(persistConfig, reducers);\r\n\r\nconst store = configureStore({\r\n    reducer: persistReducers,\r\n    middleware: [thunk],\r\n});\r\n\r\nexport default store;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { Provider } from \"react-redux\";\nimport { PersistGate } from \"redux-persist/integration/react\";\nimport { persistStore } from \"redux-persist\";\nimport store from \"./store/store\";\n\nlet persistor = persistStore(store);\n\nReactDOM.render(\n  <Provider store={store}>\n      <PersistGate loading={null} persistor={persistor}>\n      <App />\n    </PersistGate>\n    </Provider>,\n  document.getElementById('root')\n  \n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n\n"],"sourceRoot":""}